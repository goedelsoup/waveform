# SPDX-License-Identifier: Apache-2.0
# SPDX-FileCopyrightText: Â© 2025 Cory Parent <goedelsoup+waveform@goedelsoup.io>

# Advanced Contract Example: Conditional Validation
# This contract demonstrates sophisticated validation rules including conditional logic,
# range validation, pattern matching, and more.

publisher: "payment-service"
version: "2.0.0"
description: "Advanced payment service contract with conditional validation"

# Use pipeline selectors for dynamic matching
pipeline_selectors:
  selectors:
    - field: "type"
      operator: "equals"
      value: "trace"
    - field: "tags.service"
      operator: "matches"
      value: "payment.*"
  priority: 10

inputs:
  traces:
    - span_name: "process_payment"
      service_name: "payment-service"
      attributes:
        payment.method: "credit_card"
        payment.amount: 100.50
        http.method: "POST"
        http.status_code: 200

matchers:
  traces:
    - span_name: "process_payment"
      attributes:
        payment.method: "credit_card"
        payment.amount: 100.50
        http.method: "POST"
        http.status_code: 200
